#crear archivo : coverlet.runsettings:

<?xml version="1.0" encoding="utf-8" ?>
<RunSettings>
	<DataCollectionRunSettings>
		<DataCollectors>
			<DataCollector friendlyName="XPlat code coverage">
				<Configuration>
					<Format>cobertura</Format>
					<ExcludeByFile>**/Migrations/**</ExcludeByFile>
					<Exclude>[BarSystem.Migrations]*</Exclude>
					<Exclude>[BarSystem]Program</Exclude>
					<Exclude>[BarSystem]AutoGeneratedProgram</Exclude>
				</Configuration>
			</DataCollector>
		</DataCollectors>
	</DataCollectionRunSettings>
</RunSettings>

# 2. Ejecutar tests con cobertura
dotnet test --collect:"XPlat Code Coverage" --results-directory:"TestResults" --settings coverlet.runsettings


# 3. Generar reporte HTML
reportgenerator `
  -reports:"TestResults\*\coverage.cobertura.xml" `
  -targetdir:"coverage-report-clean" `
  -reporttypes:Html